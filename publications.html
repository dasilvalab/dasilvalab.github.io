<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Publications — da Silva lab</title>
<meta name="theme-color" content="#0e1a2b"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

<style>
:root{--navy:#0e1a2b;--navy-2:#0a1523;--gold:#d3a85a;--cream:#f4efe6;--ink:#0f243a}
*{box-sizing:border-box}
body{margin:0;background:var(--navy);color:#f7f7f5;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;line-height:1.6}
.container{width:min(1150px,92vw);margin:0 auto}

/* Header */
header{position:sticky;top:0;z-index:50;backdrop-filter:saturate(160%) blur(8px);
background:linear-gradient(180deg, rgba(10,18,31,.85), rgba(10,18,31,.65));
border-bottom:1px solid rgba(211,168,90,.18)}
.nav{display:flex;align-items:center;justify-content:space-between;padding:8px 0}
.brand{display:flex;align-items:center;gap:12px;font-weight:700;color:#fff;text-decoration:none}
.brand:hover{color:var(--gold)}
.brand-icon{width:28px;height:28px;border-radius:8px;
background:radial-gradient(80% 80% at 30% 30%, var(--gold), #a1762b 70%, #6d5326 100%)}
nav ul{display:flex;gap:24px;list-style:none;margin:0;padding:0}
nav a{text-decoration:none;color:#fff;opacity:.9}
nav a:hover{opacity:1;color:var(--gold)}

/* Hero */
.hero{position:relative;overflow:hidden;padding:clamp(80px,10vw,140px) 0;text-align:center}
.hero::before{content:'';position:absolute;inset:0;
background:linear-gradient(180deg, rgba(14,26,43,0.6) 0%, rgba(14,26,43,0.3) 100%);
z-index:0}
.hero-inner{position:relative;z-index:1}
.hero h1{font-family:'Playfair Display',serif;font-size:clamp(2.2rem,5vw,3.4rem);color:#fff;margin:0.3em 0;text-shadow:0 2px 10px rgba(0,0,0,0.4)}
.hero .lead{color:rgba(255,255,255,0.95);max-width:60ch;margin:0 auto 1.5em;font-size:1.1rem}

/* Filters */
.filters{display:flex;justify-content:center;gap:20px;margin:30px 0;flex-wrap:wrap}
.filters button{background:none;border:1px solid rgba(241,204,125,0.5);border-radius:999px;padding:8px 18px;color:var(--gold);font-weight:600;cursor:pointer;transition:all .2s ease}
.filters button.active,.filters button:hover{background:rgba(241,204,125,0.2);color:#fff;box-shadow:0 0 8px rgba(241,204,125,0.3)}

/* Publication list */
.section.light{background:var(--cream);color:var(--ink)}
.publications{display:grid;grid-template-columns:repeat(2,1fr);gap:32px}
@media(max-width:800px){.publications{grid-template-columns:1fr}}
.pub-item{background:#fff;border-radius:14px;padding:20px;border:1px solid #e7e2d8;
box-shadow:0 4px 8px rgba(0,0,0,0.04)}
.pub-item h3{font-family:'Playfair Display',serif;margin-top:0;color:var(--ink);font-size:1.1rem}
.pub-meta{color:#6a5320;font-size:0.95rem;margin-bottom:6px}
.pub-item a{color:var(--gold);text-decoration:none;font-weight:600}
.pub-item a:hover{text-decoration:underline}

/* Footer */
footer{background:#0a1523;color:#ddd6c5;padding:32px 0;text-align:center}
</style>
</head>

<body>
<header>
  <div class="container nav">
    <a class="brand" href="index.html"><span class="brand-icon"></span><span>da Silva lab</span></a>
    <nav>
      <ul>
        <li><a href="index.html#people">People</a></li>
        <li><a href="publications.html">Publications</a></li>
        <li><a href="index.html#news">News</a></li>
        <li><a href="join.html">Join Us</a></li>
      </ul>
    </nav>
  </div>
</header>

<main class="hero">
  <div class="container hero-inner">
    <h1>Our Publications</h1>
    <p class="lead">We publish across molecular, systems, and computational neuroscience — combining high-resolution omics, circuit analysis, and machine learning to decode brain resilience.</p>
  </div>
</main>

<section class="section light">
  <div class="container">
    <div class="filters">
      <button class="active" data-filter="all">All</button>
      <button data-filter="peer">Peer-Reviewed</button>
      <button data-filter="preprint">Preprints</button>
    </div>

    <div id="pub-list" class="publications" aria-live="polite" aria-busy="false">
      <!-- publications dynamically inserted here -->
    </div>
  </div>
</section>

<footer>
  © <span id="y"></span> NeuroLab — da Silva lab
</footer>

<script>
document.getElementById('y').textContent = new Date().getFullYear();

// Load publications dynamically (compatible with your lab_data.json)
(async function(){
  async function load(){
    const r = await fetch('lab_data.json',{cache:'no-store'});
    return r.ok ? r.json() : {publications:[]};
  }

  const data = await load();
  const container = document.getElementById('pub-list');
  const pubs = data.publications || [];

  function render(filter){
    container.innerHTML = '';
    pubs
      .filter(p=>{
        if(filter==='peer') return p.type==='peer' || p.journal;
        if(filter==='preprint') return p.type==='preprint' || /bioRxiv|medRxiv/i.test(p.journal||'');
        return true;
      })
      .forEach(p=>{
        const el = document.createElement('article');
        el.className='pub-item';
        el.innerHTML=`
          <h3>${p.link ? `<a href="${p.link}" target="_blank">${p.title}</a>` : p.title}</h3>
          <div class="pub-meta">${p.authors || ''}${p.journal ? ' — <em>'+p.journal+'</em>' : ''}${p.year ? ' ('+p.year+')' : ''}</div>
          <p>${p.abstract || ''}</p>
        `;
        container.appendChild(el);
      });
  }

  // Filter button handling
  document.querySelectorAll('.filters button').forEach(btn=>{
    btn.addEventListener('click',()=>{
      document.querySelectorAll('.filters button').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      render(btn.dataset.filter);
    });
  });

  render('all');
})();
</script>
</body>
</html>